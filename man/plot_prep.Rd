% Generated by roxygen2: do not edit by hand
% Please edit documentation in R/plot_prep.R
\name{plot_prep}
\alias{plot_prep}
\title{Some standard data preparation for plotting}
\usage{
plot_prep(
  data,
  y_col,
  colors = "ggsci::default_igv",
  sceneorder = NULL,
  gaugefilter = NULL,
  scenariofilter = NULL,
  base_lev = NULL,
  comp_fun = NULL,
  zero_adjust = 0,
  ...
)
}
\arguments{
\item{data}{dataframe to prep}

\item{y_col}{character, column name for what's plotted on the y-axis. Default
'flow', but will need to change if fed data with a different name}

\item{colors}{a named \code{colors} object or character vector giving a
{paletteer} \code{palette} argument. Typically the former using \code{make_pal} to
keep scenarios with consistent colours throughout, likely with a reference
level.}

\item{sceneorder}{character or factor giving the order to present scenario
levels}

\item{gaugefilter}{set of gauges to plot, default \code{NULL} plots all of them}

\item{scenariofilter}{set of scenarios to plot, default \code{NULL} plots all of
them}

\item{base_lev}{value to use as the base for comparison. Default NULL, no
comparison. See \code{\link[=baseline_compare]{baseline_compare()}} and \code{\link[=create_base]{create_base()}} for options.}

\item{comp_fun}{function to use in comparison. Default NULL, no comparison.
See \code{\link[=baseline_compare]{baseline_compare()}} and \code{\link[=create_base]{create_base()}} for options.}

\item{zero_adjust}{numeric (default 0) or \code{"auto"}, adjustment to data to
avoid zeros by adding \code{zero_adjust} to \code{abs(data)}, e.g shifting all data
away from zero, either positively or negatively. Zeros themselves are
shifted up or down randomly. Used for avoiding x/0, NaN, and Inf when
relativiszing and taking logs, primarily. Auto shifts by
\code{0.1*min(abs(data[data != 0]))}.}

\item{...}{}
}
\value{
a list with prepped versions of \code{data}, \code{y_col}, \code{colors},
\code{gaugefilter}, \code{scenariofilter}, \code{base_lev}, \code{comp_fun}, \code{ylab_append} to
be used in plot calls
}
\description{
This is an attempt to pull a lot of copy-paste out of the top of plot
functions. It's likely to continue to evolve quite a bit as we see all the
different things we need to manage in the plot setup. One of the goals here
is to avoid making a million very similar datasets- doing it in functions
keeps those changes sandboxed
}
