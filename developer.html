<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"><meta charset="utf-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><title>Getting Started • HydroBOT</title><script src="deps/jquery-3.6.0/jquery-3.6.0.min.js"></script><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><link href="deps/bootstrap-5.3.1/bootstrap.min.css" rel="stylesheet"><script src="deps/bootstrap-5.3.1/bootstrap.bundle.min.js"></script><link href="deps/font-awesome-6.5.2/css/all.min.css" rel="stylesheet"><link href="deps/font-awesome-6.5.2/css/v4-shims.min.css" rel="stylesheet"><script src="deps/headroom-0.11.0/headroom.min.js"></script><script src="deps/headroom-0.11.0/jQuery.headroom.min.js"></script><script src="deps/bootstrap-toc-1.0.1/bootstrap-toc.min.js"></script><script src="deps/clipboard.js-2.0.11/clipboard.min.js"></script><script src="deps/search-1.0.0/autocomplete.jquery.min.js"></script><script src="deps/search-1.0.0/fuse.min.js"></script><script src="deps/search-1.0.0/mark.min.js"></script><!-- pkgdown --><script src="pkgdown.js"></script><meta property="og:title" content="Getting Started"></head><body>
    <a href="#main" class="visually-hidden-focusable">Skip to contents</a>


    <nav class="navbar navbar-expand-lg fixed-top bg-light" data-bs-theme="light" aria-label="Site navigation"><div class="container">

    <a class="navbar-brand me-2" href="index.html">HydroBOT</a>

    <small class="nav-text text-muted me-auto" data-bs-toggle="tooltip" data-bs-placement="bottom" title="">0.2.4.9002</small>


    <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbar" aria-controls="navbar" aria-expanded="false" aria-label="Toggle navigation">
      <span class="navbar-toggler-icon"></span>
    </button>

    <div id="navbar" class="collapse navbar-collapse ms-3">
      <ul class="navbar-nav me-auto"><li class="nav-item"><a class="nav-link" href="reference/index.html">Reference</a></li>
      </ul><ul class="navbar-nav"><li class="nav-item"><form class="form-inline" role="search">
 <input class="form-control" type="search" name="search-input" id="search-input" autocomplete="off" aria-label="Search site" placeholder="Search for" data-search-index="search.json"></form></li>
      </ul></div>


  </div>
</nav><div class="container template-title-body">
<div class="row">
  <main id="main" class="col-md-9"><div class="page-header">

      <h1>Getting Started</h1>

    </div>


<div id="getting-started" class="section level1">

<div class="section level2">
<h2 id="overview">Overview<a class="anchor" aria-label="anchor" href="#overview"></a></h2>
<p>This is a self-contained R package, largely following <a href="https://r-pkgs.org/" class="external-link">Hadley</a>. <em>Please</em> try to retain package structure, and do not <code><a href="https://rdrr.io/r/base/getwd.html" class="external-link">setwd()</a></code>- all paths should be canonical package directory referencing.</p>
<p>The R package wraps some python code that interfaces with the <a href="https://github.com/MDBAuth/EWR_tool" class="external-link">EWR tool</a>. There is also some python used in generating test scenarios to pull gauges and run the EWR tool; these are in <code>data-creation</code>, which is hidden when building the pkg.</p>
<p>The data in <code>data/</code> is test data, and so will be included in the repo, but will hopefully change little. It can be rebuilt with notebooks in <code>data_creation/</code>, which also adds data to <code>data-raw/</code>, which should not be tracked in the repo. The exception (currently) is data that cannot be gathered from elsewhere, but we should move away from this as possible.</p>
</div>
<div class="section level2">
<h2 id="current-status">Current status<a class="anchor" aria-label="anchor" href="#current-status"></a></h2>
<p>Adding functionality, making package more robust, using demo analyses to test and improve.</p>
</div>
<div class="section level2">
<h2 id="gitgithub">Git/github<a class="anchor" aria-label="anchor" href="#gitgithub"></a></h2>
<p>Set up an ssh key to be able to talk to github. Largely following Github and Andrew’s instructions (below for Linux and Windows). Use an RSA key, not the default ed25519, and <em>do not name it</em>. Overriding defaults is a pain, so just use them.</p>
<p>Basically, setting up the github ssh key follows the <a href="https://docs.github.com/en/authentication/connecting-to-github-with-ssh/generating-a-new-ssh-key-and-adding-it-to-the-ssh-agent" class="external-link">github instructions</a>, and then adding that key to your github account, again <a href="https://docs.github.com/en/authentication/connecting-to-github-with-ssh/adding-a-new-ssh-key-to-your-github-account" class="external-link">as described by github</a>. This sets up the key in <code>~/.ssh</code>. To be safe, I typically cd there with <code>cd ~/.ssh</code> to start, though most of the commands put it there no matter where you are. See below for more detailed notes on setting up ssh on Azure and Windows if you run into issues.</p>
<p>A couple small notes: - Don’t name the file- leave it as the default ‘id_TypeOfEncyption’. <code>ssh-add</code> auto adds ’id_*’ files, but not other names. - Don’t include a passphrase (just press enter when it asks for one)- that just yields another layer of signin complexity. - The github docs for copying the public key sometimes swap OSes, <code>clip</code> seems to work on windows with git bash, <code>cat</code> works on Linux.</p>
<div class="section level3">
<h3 id="git-username">Git username<a class="anchor" aria-label="anchor" href="#git-username"></a></h3>
<p>Configure git username and email. In bash, <code>git config --global user.name "User Name"</code> and <code>git config --global user.email "user.email@email"</code>. See <a href="https://docs.github.com/en/get-started/getting-started-with-git/setting-your-username-in-git" class="external-link">github instructions</a> and <a href="https://docs.github.com/en/account-and-profile/setting-up-and-managing-your-personal-account-on-github/managing-email-preferences/setting-your-commit-email-address" class="external-link">email</a>. <em>Use the <code>noreply</code> github email or github gets mad when you push</em>. If you have a Deakin computer, you probably have to set the config <code>--local</code> once you’ve cloned because of the horrible <code>h/</code> drive HOME.</p>
<p>After you have the ssh key and git user name and email, clone the repo.</p>
<p><em>IMPORTANT DEV NOTES</em> To install from a branch other than “HEAD”, use <code>ref = 'branchname'</code>.</p>
<p>While we have to do the <code>install_local</code> method, the <code>renv</code> version management will be less reliable.</p>
</div>
</div>
<div class="section level2">
<h2 id="r-and-python-environments">R and python environments<a class="anchor" aria-label="anchor" href="#r-and-python-environments"></a></h2>
<div class="section level3">
<h3 id="general-r-setup">General R setup<a class="anchor" aria-label="anchor" href="#general-r-setup"></a></h3>
<p>R versions may not match, especially on Azure, which is typically behind.</p>
<p>We can use <a href="https://github.com/r-lib/rig" class="external-link">rig</a> to manage R versions (and this is likely better anyway, because we can swap around). See <a href="https://galenholt.github.io/RpyEnvs/rig.html" class="external-link">my notes</a> for some rig notes.</p>
<p>Once you have rig installed, Then, <code>rig list</code> to see available R versions (likely none- it doesn’t store its versions with the system). Then <code>rig add 4.3.1</code> (or whatever the current version is). There are ways to use Rstudio with the version in the <code>renv.lock</code>, and likely ways to do the same with VS, but for now, easiest is to make sure <code>renv default</code> matches the version in <code>renv.lock</code>.</p>
</div>
<div class="section level3">
<h3 id="r-environments">R environments<a class="anchor" aria-label="anchor" href="#r-environments"></a></h3>
<p>If starting for the first time you will need to have <code>renv</code> installed. Typically, starting an R session through Rstudio or at the command line (<code>R</code>) will automatically detect the absence of <code>renv</code> and install it. If not, at the R command prompt type <code>install.packages('renv')</code>. Worth having a read of <a href="https://rstudio.github.io/renv/" class="external-link">renv doco</a>.</p>
<p>Typically, we would next run <code><a href="https://rstudio.github.io/renv/reference/restore.html" class="external-link">renv::restore()</a></code> which will use the local <code>renv.lock</code> file to build a local R environment for this project. Note if a <code>.Rprofile</code> is not present it will be created. If new packages are added (<code>renv::install('packagename')</code>) and want to be kept, add to the lockfile with <code><a href="https://rstudio.github.io/renv/reference/snapshot.html" class="external-link">renv::snapshot()</a></code>.</p>
</div>
<div class="section level3">
<h3 id="python-environments">Python environments<a class="anchor" aria-label="anchor" href="#python-environments"></a></h3>
<p>Use <a href="https://github.com/pyenv/pyenv" class="external-link">pyenv</a> to manage python versions. <em>Use the <a href="https://github.com/pyenv-win/pyenv-win" class="external-link">windows fork</a> on Windows!</em>. Use <a href="https://python-poetry.org/docs/" class="external-link">poetry</a> to build python environments. Set <code>poetry config virtualenvs.in-project true</code> to get the <code>.venv</code> in the right place. Use the <code>poetry.lock</code> to build the python environment with poetry. The needed python packages get auto-installed when <em>using</em> the package, but developers will need to maintain them here for dev.</p>
</div>
</div>
<div class="section level2">
<h2 id="parallelisation">Parallelisation<a class="anchor" aria-label="anchor" href="#parallelisation"></a></h2>
<p>Parallelisation uses the {future} package, which passess needed functions etc into the parallelised parts. When developing though, it passes the <em>installed</em> versions, not any new changes made and loaded with <code>devtools::load_all()</code>. So to test parallelisation is working, you will need to install the package with the button in the build pane or <code>devtools::install()</code>.</p>
</div>
</div>
<div class="section level1">
<h1 id="more-detail-if-you-hit-trouble">More detail if you hit trouble<a class="anchor" aria-label="anchor" href="#more-detail-if-you-hit-trouble"></a></h1>
<div class="section level2">
<h2 id="r-setup">R setup<a class="anchor" aria-label="anchor" href="#r-setup"></a></h2>
<div class="section level3">
<h3 id="azure">Azure<a class="anchor" aria-label="anchor" href="#azure"></a></h3>
<p>The R version that comes on the machines is 4.0, and the usual <code>apt-get</code> isn’t finding anything newer. To get rig for Linux, at the bash terminal, type <code>curl -Ls https://github.com/r-lib/rig/releases/download/latest/rig-linux-latest.tar.z | sudo tar xz -C /usr/local</code> to install rig. On the Azure boxes, there are a lot of missing libs the R packages depend on. As of this writing, I hit errors with libcurl, libjq, libgeos, libudunits2, libgdal, and libxml2. One option is to try to <code><a href="https://rstudio.github.io/renv/reference/restore.html" class="external-link">renv::restore()</a></code> and fix these as they come, but likely easier to just hit them all at once with <code>sudo apt-get install libcurl4-openssl-dev libjq-dev libgeos-dev libgdal-dev libudunits2-dev libxml2-dev</code>. Note that if you do need to install after a failure in R and it tells you what it needs, you can use <code>system("sudo apt-get install packagename")</code> if you want to stay within R and not switch to bash.</p>
<p>If the Azure connection crashes, and the Explorer panel all turns yellow, you have to stop and restart the Azure VM.</p>
<div class="section level4">
<h4 id="r-package-installation">R package installation<a class="anchor" aria-label="anchor" href="#r-package-installation"></a></h4>
<p><code>xml2</code> causes all sorts of issues. Before using <code><a href="https://rstudio.github.io/renv/reference/restore.html" class="external-link">renv::restore()</a></code>, in R, run <code>options(install.opts = "--no-lock")</code> and then <code>renv::install('xml2')</code>. That last may not be necessary (it might be handled by <code><a href="https://rstudio.github.io/renv/reference/restore.html" class="external-link">renv::restore()</a></code>). Then proceed as below to install everything else.</p>
<p>I ended up having to <code>install.packages('languageserver')</code> inside the repo on Azure, because it won’t talk to the global <code>.libPaths</code>. This takes a really long time. It’s only necessary if we are using VScode (yes on Azure, maybe on Windows).</p>
<p>The <code>yaml</code> package is required for <code>renv</code> to parse its lockfile, so <code>install.packages('yaml')</code>. On Azure, this has to be done in the repo, since the <code><a href="https://rdrr.io/r/base/libPaths.html" class="external-link">.libPaths()</a></code> in the repo doesn’t have access to the same locations (except base) as the <code><a href="https://rdrr.io/r/base/libPaths.html" class="external-link">.libPaths()</a></code> outside the repo.</p>
<p><code>xml2</code> seems to be extra touchy to install on Unix, and errors sometimes with a message about <code>pkg-config</code> and sometimes about permissions to move things from the <code>00LOCK</code> directory. I am working on a smoother fix for this- currently tried <code>install.packages('xml2', dependencies = TRUE, INSTALL_opts = c('--no-lock'))</code> inside R, which worked but took <em>forever</em> and seems to have messed up my <code>activate.R</code> file.</p>
</div>
</div>
<div class="section level3">
<h3 id="windows">Windows<a class="anchor" aria-label="anchor" href="#windows"></a></h3>
<p>On Windows, you’ll need Rtools, whichever version matches your local R. Rtools provides access to compilation of C/C++/Fortran. Mac and Unix just have that built-in. I think there’s a command <code>rig add rtools4x</code> to have rig manage the install. Ideally, we’d have rig auto-load the right version, but Rstudio broke that functionality. So need to use <code>rig default 4.v.v</code> before opening the project. This can be a pain to switch if we’re using different versions across different projects, but does work.</p>
</div>
</div>
<div class="section level2">
<h2 id="poetrypython-extras">Poetry/python extras<a class="anchor" aria-label="anchor" href="#poetrypython-extras"></a></h2>
<p>Once poetry is installed, cd to the repo and:</p>
<p>To ensure we have the venv in the project, set <code>poetry config virtualenvs.in-project true</code></p>
<p><code>poetry config virtualenvs.prefer-active-python true</code>, which doesn’t seem to work, so then run</p>
<p><code>poetry env use 3.11</code> or whatever version is in the lock</p>
<p>then <code>poetry install</code>.</p>
<p>To create the python environment from the <code>pyproject.toml</code> and <code>poetry.lock</code> files, run <code>poetry install</code>.</p>
<p>To add python packages, use <code>poetry add packagename</code>. Then, committing the <code>toml</code>and <code>lock</code>files will let others rebuild the environment.</p>
<p>To add a specific version, <code>poetry add packagename==1.0.1</code>. This is sometimes necessary with things like py-ewr that change frequently.</p>
<p>To call the python from R, as long as the venv is in the base project directory, {reticulate} seems to find it. Otherwise, need to tell it where it is with <code><a href="https://rstudio.github.io/reticulate/reference/use_python.html" class="external-link">reticulate::use_virtualenv</a></code>. There’s more detail about this sort of thing in the developer note in {HydroBOT}- here, the venv is in the outer directory and just works.</p>
<p><strong>ON AZURE</strong>- when you first start a vscode session, the bash at the bottom does not use the poetry environment, and so if you try to install or use HydroBOT, it will try to auto-build one with the right dependencies using miniconda (or just fail with cryptic errors). That might work (but usually doesn’t). Instead, <em>start a new bash terminal</em>, which will activate the venv, and open R from there. At that point, installing HydroBOT (or <code><a href="https://rstudio.github.io/renv/reference/restore.html" class="external-link">renv::restore()</a></code> generally), and using the code should work.</p>
</div>
<div class="section level2">
<h2 id="ssh-extras">SSH extras<a class="anchor" aria-label="anchor" href="#ssh-extras"></a></h2>
<p>If we’re running from command line, we might have to use <code>eval "$(ssh-agent -s)"</code> and then <code>ssh-add ~/.ssh/NAME_OF_KEY</code> every time. To avoid that, change the <code>.bashrc</code> according to Andrew to auto-run <code>ssh-add</code> . I tend to use nano for small edits, so <code>nano ~/.bashrc</code> (or <code>cd</code> and then <code>nano .bashrc</code>), and copy-paste in the below. (and on Windows also add this to <code>~/.profile</code>)</p>
<pre><code>[ -z "$SSH_AUTH_SOCK" ] &amp;&amp; eval "$(ssh-agent -s)"

env=~/.ssh/agent.env

agent_load_env () { test -f "$env" &amp;&amp; . "$env" &gt;| /dev/null ; }

agent_start () {
    (umask 077; ssh-agent &gt;| "$env")
    . "$env" &gt;| /dev/null ; }

agent_load_env

# agent_run_state: 0=agent running w/ key; 1=agent w/o key; 2=agent not running
agent_run_state=$(ssh-add -l &gt;| /dev/null 2&gt;&amp;1; echo $?)

if [ ! "$SSH_AUTH_SOCK" ] || [ $agent_run_state = 2 ]; then
    agent_start
    ssh-add
elif [ "$SSH_AUTH_SOCK" ] &amp;&amp; [ $agent_run_state = 1 ]; then
    ssh-add
fi

unset env</code></pre>
<p>The original instructions said we needed to add a .config file in the <code>~/.ssh</code> dir with the following</p>
<pre><code>AddKeysToAgent yes

Host *
IdentityFile  /home/azureuser/.ssh/[your key file name]</code></pre>
<p>but it didn’t solve the issue with persisting named keys and doesn’t seem to be needed if they have the default names. I’ve dropped it, but may want to resurrect if we have issues.</p>
<p>If the key still isn’t persisting, it’s likely that <code>ssh-add</code> isn’t auto-starting it because it has a non-default name. The best solution is to use a default name, but you could also run <code>ssh-add ~/.ssh/KEY_NAME</code> every time, and then it works. Sometimes VS’s source control pane still doesn’t talk to github, but the command line seems to always work after that.</p>
</div>
<div class="section level2">
<h2 id="windows-extras">Windows extras<a class="anchor" aria-label="anchor" href="#windows-extras"></a></h2>
<p>If you’re on a Deakin computer, HOME is set to the horrible <code>/h</code> drive that is locked down and changes. To fix that (I hope), Georgia followed instructions from <a href="https://superuser.com/questions/1190364/how-to-set-home-directory-in-win10" class="external-link">stackoverflow</a>, specifically</p>
<p>From the Start menu, enter env to display the Environment Variables window. Click environment variables button in bottom right. Enter a new $HOME variable for my account: Variable Name: HOME Value: C:</p>
<p>Confirm by starting a bash and typing <code>cd ~</code>.</p>
<p>Setting up ssh on Windows is easiest if you use git bash. That should be fine for typical repo use, but we have to do more to get ssh to work for <em>installing</em> packages from protected repos. To prepare for this, there seem to be an inability to pass anything other than rsa keys, so create one of those (I have one of those and and an ed25519, but I’m pretty sure the rsa is auto-enforced with the <code>install_git</code>). The rigmarole for actually installing from github is dealt with in the developer.md for HydroBOT_website, since that’s where we need to install this from.</p>
<p>Windows should connect with SSH so we’re using the same system everywhere. What seems to be working is to go to Settings --&gt; Services (really, search for Services), --&gt; openSSH authentication --&gt; properties --&gt; startup type Automatic. Run <code>ls-remote git@github.com:MDBAuth/HydroBOT.git</code> in command prompt interactively to add github as a known location. Then create a <code>~/.profile</code> and <code>~/.bashrc</code> with the same bits as in the linux bashrc in the HydroBOT dev docs, and are given <a href="https://docs.github.com/en/authentication/connecting-to-github-with-ssh/working-with-ssh-key-passphrases#auto-launching-ssh-agent-on-git-for-windows" class="external-link">at the github instructions for auto-launching</a>. Both profile and bashrc seem to be needed. And it’s unclear why, since those are for bash, and <code>install_git</code> calls cmd. cmd must be calling git bash internally. Then, we also need to install the <code>git2r</code> package, or <code>install_git</code> will still fail, but we <em>cannot</em> pass the <code>credentials</code> argument, even though that seems like what we should do.</p>
</div>
<div class="section level2">
<h2 id="r-in-vscode">R in VScode<a class="anchor" aria-label="anchor" href="#r-in-vscode"></a></h2>
<p>The R environment stuff within the project is managed by <code>renv</code>, but there are some packages we want to install globally because they make R work in VScode, help development, etc. So, <em>outside the repo</em> (or before cloning it), do these things.</p>
<p>To use R in VScode, there are a few things to do, mostly listed at the <a href="https://code.visualstudio.com/docs/languages/r" class="external-link">VScode docs</a>. The essential ones are to install <code>languageserver</code> (<code>install.packages('languageserver')</code>) and then the R extension in VScode. However, I sometimes have to install it inside the repo. I think <code>.libPaths</code> doesn’t retain some global paths on Azure that it retains elsewhere. VScode will prompt to install if it can’t find it.</p>
<p>I’m experimenting with <code>radian</code> and <code>httpgd</code>, and think I like them, but they’re not necessary. And there are other linters, debuggers, etc beyond what comes with the VScode R extension, but I haven’t played with them yet.</p>
<p>If you want to install <a href="github.com/randy3k/radian">radian</a> as a terminal, it should be global as well. The azure boxes need to <code>pip3 install prompt-toolkit --upgrade</code> before <code>pip3 install -U radian</code> or we get TypeErrors. Hoping this doesn’t screw up the python envs? Guess we’ll see. When we start a <code>radian</code> terminal, it says ‘python’, not ‘R’ because radian is written in python. Which is a bit confusing, especially when we’re also actually doing python work. In practice, I like some of the things about radian, but have turned it off because it throws weird errors (but runs through them) that aren’t real (‘unexpected &amp; in }’ when neither symbol is in the code). I just don’t fully trust it. I <em>think</em> the issue is that it doesn’t handle running code chunks in Quarto correctly- it’s effectively copy-pasting them into the terminal and isn’t doing it right.</p>
<p>I finally got radian working, but only if I <em>uninstall</em> it from the base python and install it with poetry in each venv. Then we have to set the Rterm path in the R extension settings. On Linux, <code>which radian</code> to get the location, and put that (<code>/anaconda/envs/azureml_py38/bin/radian</code>) in <code>Rterm:Linux</code> in the settings. On Windows, <code>which radian</code> pointed to the shims, but installing radian <em>in the repo itself with poetry</em> and then using <code>C:\\path\\to\\repo\\.venv\\Scripts\\radian.exe</code> for the Rterm windows. Also in settings, set the Always Use Active Terminal and Use Bracked Paste settings. <em>DO NOT USE BRACKETED PASTE IF YOU SWITCH BACK TO VANILLA R TERMINAL</em>. The active terminal deal is because if we try to auto-start radian from a notebook, it barfs on the python env. But if we start it with <code>radian</code> from bash/powershell, then it gets the python env right and we can go. <em>BUT</em>, I have dropped it again because it doesn’t fully support UTF-8, and there are UTF-8 characters all over the data- e.g. “Macquarie–Castlereagh” has an En-Dash that gets dropped silently and everything breaks. Until that’s sorted, it’s just not worth it. It’s also slower than base R, though the highlighting and code completion is really nice, the introduced bugs are terrible. And for some reason it doesn’t work with httpgd.</p>
<p>Installing <code>httpgd</code> globally as well (inside R, <code>install.packages('httpgd')</code>).</p>
<p>In settings, I also turned on <code>LSP:debug</code> and clicked <code>use httpgd</code> in the plots settings. I’ll try to keep a record here of these setup things I’ve done so we don’t forget and have different VS behaviour.</p>
<p>VS seems to sometimes struggle to find the library if started in HydroBOT. In that case, start a new workspace in HydroBOT/HydroBOT.</p>
<p>VS opened in HydroBOT or HydroBOT needs to be told the first time we open a workspace where the python interpreter is (in /werptoolkitpy/.venv/Scripts/python.exe) because it’s no longer in the top-level.</p>
</div>
<div class="section level2">
<h2 id="notes-on-using-mdba-systems">Notes on using MDBA systems<a class="anchor" aria-label="anchor" href="#notes-on-using-mdba-systems"></a></h2>
<p>To get to the compute machines, open Azure Machine Learning studio. Get there from <a href="https://portal.azure.com/#home" class="external-link">the Azure portal</a>, then Resources (green grid), then MDBA-NPD-ML-AUE, then ‘Launch’ (button in middle of main panel, NOT on side bar), then Compute (bottom of left column)</p>
<p>Start the computer</p>
<p>Click on VS code- this should start the main VScode on the Remote Desktop, which is connected into the Azure box. There may be a signin needed, and a connection step to do that the first time.</p>
<p>I think it’s working if it says Azure ML up at the top of the vs code window (and down in the bottom left)</p>
<p>Now, that opens with CODE[AZURE ML… in the explorer Then under Users/User.Name is where I work</p>
<p>The terminal down the bottom also opens into CODE sometimes, rather than my own directory- be careful when moving files.</p>
<p>If <code>git clone</code> doesn’t work, it’s likely because you named your ssh key. Either make a default key or <code>ssh-add ~/.ssh/KEY_NAME</code>.</p>
<p>Having the top level of the workspace be the repo is much nicer than the Users directory. Seems to work to click on the Open Folder link in the middle, and then in the toolbar popup navigage to the repo.</p>
<p>Then I git checkout the branch I want, and off to setting up environments.</p>
</div>
</div>
<div class="section level1">
<h1 id="installing-the-package">Installing the package<a class="anchor" aria-label="anchor" href="#installing-the-package"></a></h1>
<p>You should be able to install the development version of HydroBOT from <a href="https://github.com/MDBAuth/HydroBOT" class="external-link">GitHub</a> with <code>devtools::install_git</code>. For <code>devtools::install_git()</code> to work with SSH, there are two methods, depending on R version. The easiest is if R &lt; 4.3, in which case install the {git2r} package, and then if you have SSH keys set up, this will work:</p>
<div class="sourceCode" id="cb3"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co"># install.packages("devtools", "git2r")</span></span>
<span><span class="fu">devtools</span><span class="fu">::</span><span class="fu">install_git</span><span class="op">(</span><span class="st">"git@github.com:MDBAuth/HydroBOT.git"</span>, ref <span class="op">=</span> <span class="st">'master'</span>, force <span class="op">=</span> <span class="cn">TRUE</span>, upgrade <span class="op">=</span> <span class="st">'ask'</span><span class="op">)</span></span></code></pre></div>
<p>If using R 4.3, the {git2r} package does not support ssh, and so you have to use external (system) git. That’s uglier, but more robust, and so is what is in the Readme. R uses a different Home directory than standard (typically <code>~/Documents</code>), and so for this to work, you need to <a href="https://docs.github.com/en/authentication/connecting-to-github-with-ssh/generating-a-new-ssh-key-and-adding-it-to-the-ssh-agent" class="external-link">set up SSH keys</a> in that location as well (e.g. in <code>~/Documents/.ssh/</code>) and <a href="https://docs.github.com/en/authentication/connecting-to-github-with-ssh/adding-a-new-ssh-key-to-your-github-account" class="external-link">connect them to github</a>.</p>
<p>If all else fails, clone the repo locally, and install from there.</p>
<div class="sourceCode" id="cb4"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">`devtools::install_local('path/to/repo', force = TRUE, upgrade = 'ask')`</span></span></code></pre></div>
</div>


  </main><aside class="col-md-3"><nav id="toc" aria-label="Table of contents"><h2>On this page</h2>
    </nav></aside></div>


    <footer><div class="pkgdown-footer-left">
  <p>Developed by Galen Holt, Georgia Dwyer.</p>
</div>

<div class="pkgdown-footer-right">
  <p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.1.2.</p>
</div>

    </footer></div>





  </body></html>

