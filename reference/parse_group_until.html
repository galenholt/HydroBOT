<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"><meta charset="utf-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><title>Parses group_until into standard form — parse_group_until • HydroBOT</title><script src="../deps/jquery-3.6.0/jquery-3.6.0.min.js"></script><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><link href="../deps/bootstrap-5.3.1/bootstrap.min.css" rel="stylesheet"><script src="../deps/bootstrap-5.3.1/bootstrap.bundle.min.js"></script><link href="../deps/font-awesome-6.5.2/css/all.min.css" rel="stylesheet"><link href="../deps/font-awesome-6.5.2/css/v4-shims.min.css" rel="stylesheet"><script src="../deps/headroom-0.11.0/headroom.min.js"></script><script src="../deps/headroom-0.11.0/jQuery.headroom.min.js"></script><script src="../deps/bootstrap-toc-1.0.1/bootstrap-toc.min.js"></script><script src="../deps/clipboard.js-2.0.11/clipboard.min.js"></script><script src="../deps/search-1.0.0/autocomplete.jquery.min.js"></script><script src="../deps/search-1.0.0/fuse.min.js"></script><script src="../deps/search-1.0.0/mark.min.js"></script><!-- pkgdown --><script src="../pkgdown.js"></script><meta property="og:title" content="Parses group_until into standard form — parse_group_until"><meta name="description" content="Parses group_until into standard form"><meta property="og:description" content="Parses group_until into standard form"></head><body>
    <a href="#main" class="visually-hidden-focusable">Skip to contents</a>


    <nav class="navbar navbar-expand-lg fixed-top bg-light" data-bs-theme="light" aria-label="Site navigation"><div class="container">

    <a class="navbar-brand me-2" href="../index.html">HydroBOT</a>

    <small class="nav-text text-muted me-auto" data-bs-toggle="tooltip" data-bs-placement="bottom" title="">0.2.4.9006</small>


    <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbar" aria-controls="navbar" aria-expanded="false" aria-label="Toggle navigation">
      <span class="navbar-toggler-icon"></span>
    </button>

    <div id="navbar" class="collapse navbar-collapse ms-3">
      <ul class="navbar-nav me-auto"><li class="active nav-item"><a class="nav-link" href="../reference/index.html">Reference</a></li>
      </ul><ul class="navbar-nav"><li class="nav-item"><form class="form-inline" role="search">
 <input class="form-control" type="search" name="search-input" id="search-input" autocomplete="off" aria-label="Search site" placeholder="Search for" data-search-index="../search.json"></form></li>
      </ul></div>


  </div>
</nav><div class="container template-reference-topic">
<div class="row">
  <main id="main" class="col-md-9"><div class="page-header">

      <h1>Parses group_until into standard form</h1>

      <div class="d-none name"><code>parse_group_until.Rd</code></div>
    </div>

    <div class="ref-description section level2">
    <p>Parses group_until into standard form</p>
    </div>

    <div class="section level2">
    <h2 id="ref-usage">Usage<a class="anchor" aria-label="anchor" href="#ref-usage"></a></h2>
    <div class="sourceCode"><pre class="sourceCode r"><code><span><span class="fu">parse_group_until</span><span class="op">(</span><span class="va">group_until</span>, <span class="va">groupers</span>, <span class="va">aggsequence</span><span class="op">)</span></span></code></pre></div>
    </div>

    <div class="section level2">
    <h2 id="arguments">Arguments<a class="anchor" aria-label="anchor" href="#arguments"></a></h2>


<dl><dt id="arg-group-until">group_until<a class="anchor" aria-label="anchor" href="#arg-group-until"></a></dt>
<dd><p>named list of groupers (column names) and the step to
which they should be retained. Default NA (retain all groupers for all
steps). <em>FOR EWR USE, best option is</em> <code>group_until = list(SWSDLName = 'sdl_units', planning_unit_name = 'sdl_units', gauge = is_notpoint)</code>. This
groups by planning unit and gauge and planning unit until larger spatial
grouping has happened, dealing with the issue of gauges reporting into
multiple PUs and SDLs. Leaving 'gauge' off is mathematically safe, since
the gauge geometry forces that grouping, but then the 'gauge' column gets
dropped. Step can be an index, name, or a function that evaluates to TRUE
or FALSE when run on the aggregation sequence. Named list does not need to
contain all groupers, but if so, those that persist throughout should be
given NA or numeric values longer than aggsequence. Vectors the length of
groupers usually work, but are less-well supported.</p></dd>


<dt id="arg-groupers">groupers<a class="anchor" aria-label="anchor" href="#arg-groupers"></a></dt>
<dd><p>as in <code><a href="general_aggregate.html">general_aggregate()</a></code>, with the note that these should
be all grouping columns <em>except</em> theme and spatial groupings. These are
both automatically added to <code>groupers</code> according to <code>aggsequence</code> before
passing to <code><a href="general_aggregate.html">general_aggregate()</a></code>.</p></dd>


<dt id="arg-aggsequence">aggsequence<a class="anchor" aria-label="anchor" href="#arg-aggsequence"></a></dt>
<dd><p>a named list of aggregation steps in the order to apply
them. Entries for theme aggregation should be character vectors- e.g. <code>name = c('from_theme', 'to_theme')</code>. Entries for spatial aggregation should be
the sf polygon to aggregate to, e.g. <code>name = sfpolygons</code> or a length-1
character, e.g. <code>name = "sfpolygons"</code>. The latter requires the object to be
available with <code>get("sfpolygons")</code>, but allows passing characters rather
than objects. Not requiring names and is high on the list of improvements.
If we want to be able to re-run from auto-saved metadata params, we need
the names of the spatial levels to match the object, e.g. basin: basin.</p></dd>

</dl></div>
    <div class="section level2">
    <h2 id="value">Value<a class="anchor" aria-label="anchor" href="#value"></a></h2>
    <p>a named list of the group_until groupers with numeric index.</p>
    </div>

  </main><aside class="col-md-3"><nav id="toc" aria-label="Table of contents"><h2>On this page</h2>
    </nav></aside></div>


    <footer><div class="pkgdown-footer-left">
  <p>Developed by Galen Holt, Georgia Dwyer.</p>
</div>

<div class="pkgdown-footer-right">
  <p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.1.2.</p>
</div>

    </footer></div>





  </body></html>

